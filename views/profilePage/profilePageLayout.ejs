<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PortLogue</title>
    <link rel="stylesheet" href="/stylesheets/style.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body style="position: relative;">

    <div class="profile-ui-button">

        <img src="/assets/icons/icons8-back-96.png"/>

    </div>

    <section class="screen-overlay">
    <div class="profile-topbar">
        <nav>
            <ul class="profile-left-nav">
                <li><a href="/">Home</a></li>
                <li><a href="/discover/new">Discover</a></li>
                <li><a href="/discover/friends">Friends</a></li>
            </ul>

            <div class="profile-searchbar">
                <form method="GET" action="/search">
                <button type="submit"><img class="nav-icons" src="/assets/icons/icons8-search-filled-96.png" alt="search-icon"/></button>
                <input type="text" name="q" placeholder="Search"/>
                </form>
            </div>

            <ul class="profile-right-nav">
                <!-- Omit from MVP until function is found
                    <li><a href="#"><div><img class="nav-icons" src="/assets/icons/icons8-chat-room-96.png"/></div></a></li>
                    <li><a href="#"><div><img class="nav-icons" src="/assets/icons/icons8-chat-room-96.png"/></div></a></li>
                -->
                    <li><div class="profile-icon-wrapper" style="cursor: pointer;"><img class="nav-profile-icon" src="/publicAvatar/<%=User.email%>" alt="profile-icon"/></div><ul class="home-nav-dropdown">
                        <li><a href="/users/profile/<%=User.username%>">Profile</a></li>
                        <li><a href="#">Account Settings</a></li>
                        <li><a href="/users/logout">Logout</a></li>
                    </ul></li>
            </ul>


        </nav>
    </div>

    <div class="qUser-info">

        <div class="qUser-desc">
            <div class="profile-qUser-avatar">
                <img style="height: 100%;" src="/publicAvatar/<%= qUser.email %>"/>
            </div>
            <div>
                <span style="font-size: 18px; color: black;"><strong><%= qUser.fullNameDisplay %></strong></span>
                <span><p><%= qUser.occupation %></p></span>
            </div>

            <div class="qUser-interact"> <!-- Forms for liking porrtoflio and portfolio views -->
                <div class="qUser-interact-like">
                    <form method="POST" action="/users/like_profile">
                        <input type="hidden" value="<%=qUser.username%>" name="qUsername"/>
                        <button class="profile-like-button" type="submit" <%=likeFunction.status%>><img src="/assets/icons/icons8-facebook-like-96.png"></button>
                    </form>
                    <span><%=qUser.portfolioLikes%></span>
                </div>

                <div class="qUser-interact-views">
                    <div class="profile-views-wrapper">
                    <img class="profile-views-icon" src="/assets/icons/icons8-eye-96.png"/>
                    </div>
                    <span><%=qUser.portfolioViews%></span>
                </div>
            </div>
            
            <div class="qUser-options">
                <a href="<%=qUser.portfolioUrl%>">Visit Official Website</a>
                <a href="/willBeImplemented">Message</a>
                <a href="<%= friendVal.url %>" class="<%= friendVal.class %>"><%= friendVal.val %></a>
            </div>
        </div>
        <div class="qUser-contact">
            <div style="font-size: 18px; color: black;"><strong>Contact</strong></div>
            <div class="qUser-contact-div">
                <img class="nav-icons" src="/assets/icons/icons8-new-post-96.png"/>
                <p><%= qUser.email %></p>
            </div>
            <div class="qUser-contact-div">
                <img class="nav-icons" src="/assets/icons/icons8-phone-96.png"/>
                <p><%= qUser.phone %></p>
            </div>
            <div class="qUser-contact-div">
                <img class="nav-icons" src="/assets/icons/icons8-marker-96.png"/>
                <p><%= qUser.country %></p>
            </div>
        </div>
    </div>

        <div class="black-overlay">
            <div></div>
        </div>



    </section>

    <%-body%>

    <script>

        $(`.profile-ui-button`).on(`click`, ()=> {

            (async function(){ $(`.screen-overlay`).toggleClass(`screen-overlay-click`); })().then(()=>{
                $(`.profile-iframe`).toggleClass(`profile-iframe-click`);
            });

        });
    
        $(`.profile-icon-wrapper`).on(`click`,()=> {
            $(`.home-nav-dropdown`).toggle();
        });

        $(`#qs-dropdown`).on(`click`, ()=> {
            $(`.home-quick-dropdown`).toggle();
        })

    
    </script>
</body>
</html>