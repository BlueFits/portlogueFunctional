
    <div class="delete-overlay">
        <div class="delete-overlay-color"></div>
        <div class="delete-prompt">
            <span>Delete Website</span>
            <span>Are you sure that you want to delete <strong id="deleteName"></strong>?</span>
            <div>
                <span onclick="closeOverlay()">Cancel</span>
                <span id="submitDelete">Delete</span>
            </div>
        </div>

    </div>

    <section class="settings-section">
    
            <ul class="flash-settings">
                    <% for (let val of error_msg) {%>
                        <li class="flash-style f-error">
                                <div class="flash-info">
                                    <span><strong>Error</strong></span>
                                    <span><%=val.msg%></span>
                                </div>
                                <div class="flash-close"><img src="/assets/icons/icons8-delete-96.png"/></div>
                        </li>
                    <% } %>
                    <% for (let val of success_msg) {%>
                        <li class="flash-style f-success">
                                <div class="flash-info">
                                    <span><strong>Success</strong></span>
                                    <span><%=val.msg%></span>
                                </div>
                                <div class="flash-close"><img src="/assets/icons/icons8-delete-96.png"/></div>
                        </li>
                    <% } %>        
            </ul>
    
        <ul class="settings-wrapper">
    
            <header class="settings-header"><h1><img style="height: 30px;" src="/assets/icons/icons8-website-96.png" alt="profile"/>Websites</h1><span style="color: #bbbbbb;" class="h1-sub">Manage your websites</span></header>
    
            <div class="settings-selection">                
                <a href="/users/settings?tab=profile"><img class="nav-icons" src="/assets/icons/icons8-user-96.png" alt="profile"/><span class="setting-select-name">Profile</span></a>
                <a href="/users/settings?tab=account"><img class="nav-icons" src="/assets/icons/icons8-settings-96.png" alt="Account Settings"/><span class="setting-select-name">Account Settings</span></a>
                <a href="/users/settings?tab=account" class="settings-selected-a"><img class="nav-icons" src="/assets/icons/icons8-website-96.png" alt="Account Settings"/><span class="setting-select-name">Websites</span></a>
            </div>
    
            <div class="settings-options">

                <li>
                    <div class="acc-web-add"><img style="margin-right: 5px;" class="nav-icons" src="/assets/icons/icons8-add-96.png"/><span>Add Website</span></div>
                            <form id="add-web" class="acc-web-div" method="POST" action="/users/add_website">
                                    <div class="acc-web-wrapper">
                                        <div class="acc-web-inner-div">
                                            <label for="siteName">Site Name</label>
                                            <input required type="text" name="siteName" placeholder=""/>
                                        </div>
                                        <div class="acc-web-inner-div">
                                            <label for="url">Url</label>
                                            <input required type="url" name="url" placeholder=""/>
                                        </div>
                                        <div class="acc-web-inner-div">
                                            <label for="description">Description</label>
                                            <textarea placeholder="" name="description"></textarea>
                                        </div>
                                    </div>
        
                                    <div class="acc-web-wrapper">
                                        <div class="acc-web-inner-div">
                                            <label for="style">Design Styles</label>
                                        <select data-placeholder="" multiple class="chosen-select" name="styles">
                                            <option value="3d-illustration">3-dimensional Illustration</option>
                                            <option value="retro">Retro</option>
                                            <option value="cartoons-illustrations">Cartoons & Illustrations</option>
                                            <option value="unique-typography">Unique Typography</option>
                                            <option value="material">Material</option>
                                            <option value="two-tone-color">Two Tone color</option>
                                            <option value="photo-realism">Photo-Realism</option>
                                            <option value="transparency">Transparency</option>
                                            <option value="grunge">Grunge</option>
                                            <option value="abstract">Abstract</option>
                                            <option value="semi-flat">Semi-Flat</option>
                                            <option value="card-design">Card Design</option>
                                            <option value="Isometric">Isometric</option>
                                            <option value="freehand-drawing">Freehand Drawing</option>
                                            <option value="minimalist">Minimalist</option>
                                        </select>
                                        </div>
                                        <div class="acc-web-inner-div">
                                            <label for="technologies">Technologies</label>
                                            <select data-placeholder="" multiple class="chosen-select" name="technologies">
                                                <option value="angularjs">AngularJS</option>
                                                <option value="apache">Apache</option>
                                                <option value="barbajs">Barba.js</option>
                                                <option value="backbonejs">Backbone.js</option>
                                                <option value="Bootstrap">Bootstrap</option>
                                                <option value="css-framework">CSS Framework</option>
                                                <option value="css3">CSS3</option>
                                                <option value="cloudfare">CloudFare</option>
                                                <option value="craft-cms">Craft CMS</option>
                                                <option value="createjs">CreateJS</option>
                                                <option value="d3">D3</option>
                                                <option value="debian">Debian</option>
                                                <option value="demandware">Demandware</option>
                                                <option value="drupal">Drupal</option>
                                                <option value="express">Express</option>
                                                <option value="facebook-api">Facebook API</option>
                                                <option value="fastclick">FastClick</option>
                                                <option value="firebase">Firebase</option>
                                                <option value="font-awesome">Font Awesome</option>
                                                <option value="glsl">GLSL</option>
                                                <option value="gsap-animation">GSAP Animation</option>
                                                <option value="google-app-engine">Google App Engine</option>
                                                <option value="google-font-api">Google Font API</option>
                                                <option value="html5">HTML5</option>
                                                <option value="hammerjs">Hammer.JS</option>
                                                <option value="handlebars">HandleBars</option>
                                                <option value="iis">IIS</option>
                                                <option value="ink">Ink</option>
                                                <option value="knockout">Knockout</option>
                                                <option value="laravel">Laravel</option>
                                                <option value="lo-dash">Lo-dash</option>
                                                <option value="magento">Magento</option>
                                                <option value="mediaelementjs">MediaElement.js</option>
                                                <option value="microsoft-asp-net">Microsoft ASP.NET</option>
                                                <option value="modernizr">Modernizr</option>
                                                <option value="nginx">Nginx</option>
                                                <option value="nodejs">Node.js</option>
                                                <option value="nuxtjs">Nuxt.js</option>
                                                <option value="owl-carousel">OWL Carousel</option>
                                                <option value="optimizely">Optimizely</option>
                                                <option value="php">PHP</option>
                                                <option value="pixijs">PixiJS</option>
                                                <option value="reactjs">ReactJS</option>
                                                <option value="requirejs">RequireJS</option>
                                                <option value="revealjs">Reveal.js</option>
                                                <option value="ruby">Ruby</option>
                                                <option value="svg">SVG</option>
                                                <option value="shopify">Shopify</option>
                                                <option value="skrollrjs">Skrollr.js</option>
                                                <option value="snapsvg">Snap.svg</option>
                                                <option value="socketio">Socket.io</option>
                                                <option value="soundmanager">SoundManager</option>
                                                <option value="spinjs">Spin.js</option>
                                                <option value="threejs">Three.js</option>
                                                <option value="twitter-api">Twitter API</option>
                                                <option value="typekit">Typekit</option>
                                                <option value="ubuntu">Ubuntu</option>
                                                <option value="underscorejs">Underscore.js</option>
                                                <option value="vr">VR</option>
                                                <option value="varnish">Varnish</option>
                                                <option value="velocityjs">Velocity.js</option>
                                                <option value="videojs">VideoJS</option>
                                                <option value="vuejs">Vue.js</option>
                                                <option value="webgl">WebGL</option>
                                                <option value="websockets">WebSockets</option>
                                                <option value="webvr">WebVR</option>
                                                <option value="webpack">Webpack</option>
                                                <option value="woocommerce">WooCommerce</option>
                                                <option value="wordpress">Wordpress</option>
                                                <option value="yepnope">Yepnope</option>
                                                <option value="youtube-api">Youtube API</option>
                                                <option value="zepto">Zepto</option>
                                                <option value="jquery">jQuery</option>
                                                <option value="tweenjs">tween.js</option>
                                            </select>
                                        </div>
                                        <div class="acc-web-inner-div">
                                            <label for="colors">Colors</label>
                                            <input id="newWebColors" type="hidden" name="colors"/>
        
                                            <div class="color-wrapper">
                                                <div onclick="colorSelect(this)" data-color="black" class="color-shape">
                                                    <div class="cc color-black"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="blue" class="color-shape">
                                                        <div class="cc color-blue"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="brown" class="color-shape">
                                                        <div class="cc color-brown"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="turqoise" class="color-shape">
                                                        <div class="cc color-turqoise"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="orange" class="color-shape">
                                                        <div class="cc color-orange"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="pink" class="color-shape">
                                                        <div class="cc color-pink"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="red" class="color-shape">
                                                        <div class="cc color-red"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="grey" class="color-shape">
                                                        <div class="cc color-grey"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="white" class="color-shape">
                                                        <div class="cc color-white"><!--Color --></div>
                                                </div>
                                                <div onclick="colorSelect(this)" data-color="yellow" class="color-shape">
                                                        <div class="cc color-yellow"><!--Color --></div>
                                                </div>
                                            </div>
        
                                        </div>
                                    </div>
                            
                                    <div class="acc-website-save">
                                        <button type="submit">Add Website</button>
                                    </div>
                                </form>
                </li>

                <% for(website of Websites) { %>
    
                <li class="acc-pass-change">
                    <div class="acc-pass-divOne">
                        <span class="settings-sub-heading"><%=website.sitenameDisplay%></span>
                        <div class="acc-web-delete-edit">
                            <form method="POST" action="/users/delete_website">
                                <input type="hidden" name="webId" value="<%=website._id%>"/>
                                <span data-name="<%=website.sitenameDisplay%>" style="cursor: pointer; margin-right: 10px;" onclick="deleteWeb(this);">Delete</span>
                            </form>
                            <span data-webId="<%=website._id%>" onclick="getWebId(this)" class="set-edit">Edit</span>
                        </div>
                    </div>
                        <form id="form<%=website._id%>" class="acc-web-div" method="POST" action="/users/edit_website">
                            <input type="hidden" name="websiteId" value="<%=website._id%>"/>
                            <div class="acc-web-wrapper">
                                <div class="acc-web-inner-div">
                                    <label for="siteName">Site Name</label>
                                    <input type="text" name="siteName" placeholder="<%=website.siteName%>"/>
                                </div>
                                <div class="acc-web-inner-div">
                                    <label for="url">Url</label>
                                    <input type="url" name="url" placeholder="<%=website.url%>"/>
                                </div>
                                <div class="acc-web-inner-div">
                                    <label for="description">Description</label>
                                    <textarea placeholder="<%=website.description%>" name="description"></textarea>
                                </div>
                            </div>

                            <div class="acc-web-wrapper">
                                <div class="acc-web-inner-div">
                                    <label for="style">Design Styles</label>
                                        <select data-placeholder="" multiple class="chosen-select" name="styles">
                                            <option value="3d-illustration">3-dimensional Illustration</option>
                                            <option value="retro">Retro</option>
                                            <option value="cartoons-illustrations">Cartoons & Illustrations</option>
                                            <option value="unique-typography">Unique Typography</option>
                                            <option value="material">Material</option>
                                            <option value="two-tone-color">Two Tone color</option>
                                            <option value="photo-realism">Photo-Realism</option>
                                            <option value="transparency">Transparency</option>
                                            <option value="grunge">Grunge</option>
                                            <option value="abstract">Abstract</option>
                                            <option value="semi-flat">Semi-Flat</option>
                                            <option value="card-design">Card Design</option>
                                            <option value="Isometric">Isometric</option>
                                            <option value="freehand-drawing">Freehand Drawing</option>
                                            <option value="minimalist">Minimalist</option>
                                        </select>
                                </div>
                                <div class="acc-web-inner-div">
                                    <label for="technologies">Technologies</label>
                                        <select data-placeholder="" multiple class="chosen-select" name="technologies">
                                            <option value="angularjs">AngularJS</option>
                                            <option value="apache">Apache</option>
                                            <option value="barbajs">Barba.js</option>
                                            <option value="backbonejs">Backbone.js</option>
                                            <option value="Bootstrap">Bootstrap</option>
                                            <option value="css-framework">CSS Framework</option>
                                            <option value="css3">CSS3</option>
                                            <option value="cloudfare">CloudFare</option>
                                            <option value="craft-cms">Craft CMS</option>
                                            <option value="createjs">CreateJS</option>
                                            <option value="d3">D3</option>
                                            <option value="debian">Debian</option>
                                            <option value="demandware">Demandware</option>
                                            <option value="drupal">Drupal</option>
                                            <option value="express">Express</option>
                                            <option value="facebook-api">Facebook API</option>
                                            <option value="fastclick">FastClick</option>
                                            <option value="firebase">Firebase</option>
                                            <option value="font-awesome">Font Awesome</option>
                                            <option value="glsl">GLSL</option>
                                            <option value="gsap-animation">GSAP Animation</option>
                                            <option value="google-app-engine">Google App Engine</option>
                                            <option value="google-font-api">Google Font API</option>
                                            <option value="html5">HTML5</option>
                                            <option value="hammerjs">Hammer.JS</option>
                                            <option value="handlebars">HandleBars</option>
                                            <option value="iis">IIS</option>
                                            <option value="ink">Ink</option>
                                            <option value="knockout">Knockout</option>
                                            <option value="laravel">Laravel</option>
                                            <option value="lo-dash">Lo-dash</option>
                                            <option value="magento">Magento</option>
                                            <option value="mediaelementjs">MediaElement.js</option>
                                            <option value="microsoft-asp-net">Microsoft ASP.NET</option>
                                            <option value="modernizr">Modernizr</option>
                                            <option value="nginx">Nginx</option>
                                            <option value="nodejs">Node.js</option>
                                            <option value="nuxtjs">Nuxt.js</option>
                                            <option value="owl-carousel">OWL Carousel</option>
                                            <option value="optimizely">Optimizely</option>
                                            <option value="php">PHP</option>
                                            <option value="pixijs">PixiJS</option>
                                            <option value="reactjs">ReactJS</option>
                                            <option value="requirejs">RequireJS</option>
                                            <option value="revealjs">Reveal.js</option>
                                            <option value="ruby">Ruby</option>
                                            <option value="svg">SVG</option>
                                            <option value="shopify">Shopify</option>
                                            <option value="skrollrjs">Skrollr.js</option>
                                            <option value="snapsvg">Snap.svg</option>
                                            <option value="socketio">Socket.io</option>
                                            <option value="soundmanager">SoundManager</option>
                                            <option value="spinjs">Spin.js</option>
                                            <option value="threejs">Three.js</option>
                                            <option value="twitter-api">Twitter API</option>
                                            <option value="typekit">Typekit</option>
                                            <option value="ubuntu">Ubuntu</option>
                                            <option value="underscorejs">Underscore.js</option>
                                            <option value="vr">VR</option>
                                            <option value="varnish">Varnish</option>
                                            <option value="velocityjs">Velocity.js</option>
                                            <option value="videojs">VideoJS</option>
                                            <option value="vuejs">Vue.js</option>
                                            <option value="webgl">WebGL</option>
                                            <option value="websockets">WebSockets</option>
                                            <option value="webvr">WebVR</option>
                                            <option value="wix">Wix</option>
                                            <option value="webpack">Webpack</option>
                                            <option value="woocommerce">WooCommerce</option>
                                            <option value="wordpress">Wordpress</option>
                                            <option value="yepnope">Yepnope</option>
                                            <option value="youtube-api">Youtube API</option>
                                            <option value="zepto">Zepto</option>
                                            <option value="jquery">jQuery</option>
                                            <option value="tweenjs">tween.js</option>
                                        </select>
                                </div>
                                <div class="acc-web-inner-div">
                                    <label for="colors">Colors</label>
                                    <input id="colors<%=website._id%>" type="hidden" name="colors"/>

                                    <div class="color-wrapper">
                                        <div onclick="colorSelect(this)" data-color="black" class="color-shape">
                                            <div class="cc color-black"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="blue" class="color-shape">
                                                <div class="cc color-blue"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="brown" class="color-shape">
                                                <div class="cc color-brown"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="turqoise" class="color-shape">
                                                <div class="cc color-turqoise"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="orange" class="color-shape">
                                                <div class="cc color-orange"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="pink" class="color-shape">
                                                <div class="cc color-pink"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="red" class="color-shape">
                                                <div class="cc color-red"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="grey" class="color-shape">
                                                <div class="cc color-grey"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="white" class="color-shape">
                                                <div class="cc color-white"><!--Color --></div>
                                        </div>
                                        <div onclick="colorSelect(this)" data-color="yellow" class="color-shape">
                                                <div class="cc color-yellow"><!--Color --></div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                    
                            <div class="acc-website-save">
                                <button type="submit">Update</button>
                            </div>
                        </form>
                        
                    </li>

                    <% } %>

            </ul>
    
        </div>
    
    </section>
    
    <script>

        //Initialize Function
        let toDelete = null;

        let websiteSelected = null;

        let colorArray = [];

        function getWebId(element) {
            $(".color-shape").removeClass("active");
            websiteSelected = "";
            colorArray = [];
            websiteSelected = element.getAttribute("data-webId");

            $(".acc-web-div").css("display", "none");
            $("#form"+websiteSelected).css("display","flex");
            //Chosen FIX
            $(".chosen-select").chosen('destroy');
            $(".chosen-select").chosen({ width: '60%' });
        }

        function deleteWeb(element) {
            toDelete = element.parentNode;
            let websiteName = element.getAttribute("data-name");
            $("#deleteName").html(websiteName);
            $(".delete-overlay").css("display", "flex");
        }

        function closeOverlay() {
            $(".delete-overlay").css("display","none");
        }

        //Delete Website
        $("#submitDelete").on("click", ()=> {
            toDelete.submit();
        });

        //add web
        $(".acc-web-add").on("click", ()=> {
            $(".acc-web-div").css("display", "none");
            $(".color-shape").removeClass("active");
            colorArray = [];
            $("#add-web").css("display", "flex");
            $(".chosen-select").chosen('destroy');
            $(".chosen-select").chosen({ width: '60%' });
        });

        //Choose color value
        function colorSelect(element) {

            if (element.className === "color-shape") {
                element.className = "color-shape active"
            }

            else {
                element.className = "color-shape"
            }

            let color = element.getAttribute("data-color");

            let isSelected = false;

            for ( let val of colorArray) {
                if (val === color) {
                    isSelected = true;
                }
            }

            if (isSelected) {
                for (let i = 0; i < colorArray.length; i++) {
                    if (colorArray[i] === color) {
                        colorArray.splice(i, 1);
                    }
                }
            }

            else {
                colorArray.push(color);
            }

            if (websiteSelected === null) {
                console.log("new website");
                $("#newWebColors").val(colorArray);
                console.log($("#newWebColors").val());
            }

            else {
                console.log("selected web");
                $(`#colors${websiteSelected}`).val(colorArray);
                console.log($(`#colors${websiteSelected}`).val());
            }
                        
        };


    
    </script>